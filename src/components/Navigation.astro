---
import { Atom, User, Zap, Camera, FileText, Home} from 'lucide-astro';

const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname === '/' ? 'home' : pathname.replace('/', '');

const navItems = [
  { id: 'home', label: 'Home', icon: Home, href: '/' },
  { id: 'about', label: 'About Me', icon: User, href: '/about' },
  { id: 'research', label: 'Research', icon: Atom, href: '/research' },
  { id: 'cv', label: 'CV', icon: FileText, href: '/cv' },
  { id: 'photography', label: 'Photography', icon: Camera, href: '/photography' },
];
---

<nav id="main-navigation" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 bg-slate-900/80 backdrop-blur-md border border-white/10 rounded-full px-4 py-2 shadow-2xl shadow-white/5">
  <ul class="flex items-center space-x-1 sm:space-x-4">
    {navItems.map((item) => {
      const isActive = item.id === currentPath || (item.id === 'home' && currentPath === '');
      return (
        <li>
          <a
            href={item.href}
            class:list={[
              "relative px-4 py-2 rounded-full transition-all duration-300 flex items-center space-x-2 group",
              isActive 
                ? "text-white bg-white/10 shadow-[0_0_15px_rgba(255,255,255,0.1)] border border-white/10" 
                : "text-slate-500 hover:text-white hover:bg-white/5"
            ]}
          >
            <item.icon size="18" />
            <span class:list={[isActive ? "inline-block" : "hidden md:inline-block", "text-sm font-medium"]}>
              {item.label}
            </span>
          </a>
        </li>
      );
    })}
  </ul>
</nav>